<script type="text/javascript">

    function groupQueryClick() {
        $('#LedGroupCodeDetail').datagrid({ url: '/Led/GetLedGroupCode/?QueryString=' + $('#queryLed').combobox('getValue') + '&Value=' + $('#ledInfo').val() });
        $("#LedGroupCodeDetail").datagrid('reload');
    };

    function ledgroupCodeSave() {
        var ledRow = $('#LedGroupCodeDetail').datagrid('getSelected');
        if (ledRow) {

            if (ledRow.Status == "可用") {

                $('#searchLedGroupCode').val(ledRow.LedCode);
                $('#addLedGroupCode').val(ledRow.LedCode);
                $('#LedGroupCode').val(ledRow.LedCode);


                //烟道信息LED屏赋值
                $('#details-LedName').val(ledRow.LedName);
                $('#details-LedCode').val(ledRow.LedCode);
                fatherContentID = ledRow.LedCode;
                $('#dlg-Led').dialog('close');
            } else {
                $.messager.alert('温馨提示', '请选择可用数据！！', 'warning');
            }
        }
    }

    $(function () {
        $('#queryLed').combo({
            required: true,
            editable: false,
            panelHeight: 45,
            panelWidth: 100
        });
        $('#LedGroupCodeDetail').datagrid({
            onDblClickRow: function () {
                ledgroupCodeSave();
            }
        })
    });
</script>
<div id="dlg-Led" class="easyui-dialog" modal="true" style="width: 500px; height: 410;
    padding: 2px 2px" closed="true" buttons="#dlg-buttons-Led">
    <div id="btnLedQuery">
        <form id="fm-Led">
        <select id="queryLed" class="easyui-combobox" style="width: 100px;" editable="false"
            panelheight="45px">
            <option value="LedName">Led屏名称</option>
            <option value="LedIp">Led屏IP</option>
        </select>
        <input id="ledInfo" class="easyui-validatebox" />
        <a href="#" class="easyui-linkbutton" iconcls="icon-search" plain="true" onclick="groupQueryClick()">
            查询</a>
        </form>
    </div>
    <div split="true" border="false" style="width: 480px; height: 310px;">
        <table id="LedGroupCodeDetail" class="easyui-datagrid" border="false" toolbar="#btnLedQuery"
            pagesize="10" singleselect="true" fit="true" fitcolumns="true" pagination="true"
            rownumbers="true">
            <thead>
                <tr>
                    <th field="LedCode" width="100">
                        Led编号
                    </th>
                    <th field="LedName" width="100">
                        Led屏名称
                    </th>
                    <th field="LedType" width="100">
                        Led类型
                    </th>
                    <th field="LedIp" width="100">
                        Led屏IP
                    </th>
                    <th field="Status" width="80">
                        状态
                    </th>
                </tr>
            </thead>
        </table>
    </div>
</div>
<div id="dlg-buttons-Led">
    <a href="#" class="easyui-linkbutton" iconcls="icon-ok" onclick="ledgroupCodeSave()">
        确定</a> <a href="#" class="easyui-linkbutton" iconcls="icon-cancel" onclick="javascript:$('#dlg-Led').dialog('close')">
            取消</a>
</div>