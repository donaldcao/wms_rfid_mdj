<script type="text/javascript">
    function searchClick() {
        $('#dlg-search input').val("");
        $('#dlg-search').dialog('open').dialog('setTitle', '查询');
        $('#BeginTime').datebox({ editable: false });
        $('#EndTime').datebox({ editable: false });
    }

    function select() {
        var queryParams = $('#details').datagrid('options').queryParams;
        queryParams.BeginTime = $('#BeginTime').datebox('getValue');
        queryParams.EndTime = $('#EndTime').datebox('getValue');
        queryParams.DeviceCode = $('#DeviceCode').val();
        queryParams.StateCode = $("#searchStateCode").combo('getValue');
        $('#details').datagrid('options').queryParams = queryParams;
        $('#details').datagrid({
            pageNumber: 1
        });
        $('#details').datagrid("reload");
        $('#dlg-search').dialog("close");
    }
</script>
<div id="dlg-search" class="easyui-dialog" modal="true" style="width: 300px; height: 260px;
    padding: 2px 2px" closed="true" buttons="#dlg-buttons-search">
    <div class="easyui-layout" fit="true">
        <div region="center" border="false" style="padding: 10px 10px; background: #fff;
            border: 1px solid #ccc;">
            <table width="250">
                <tr>
                    <td style="text-align: right">
                        设备代码:
                    </td>
                    <td width="168">
                        <input id="DeviceCode" name="Batch" type="text" class="easyui-numberbox" />
                    </td>
                </tr>
                <tr>
                    <td style="text-align: right">
                        状态代码:
                    </td>
                    <td>
                        <select id="searchStateCode" class="easyui-combobox" style="width: 130px" editable="false" panelheight="100">
                            <option value=""></option>
                            <option value="1">正常运行</option>
                            <option value="2">正常停机</option>
                            <option value="3">故障运行</option>
                            <option value="4">故障停机</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td style="text-align: right">
                        开始时间:
                    </td>
                    <td>
                        <input id="BeginTime" type="text" style="width: 130px" class="easyui-datebox">
                    </td>
                </tr>
                <tr>
                    <td style="text-align: right">
                        结束时间:
                    </td>
                    <td>
                        <input id="EndTime" type="text" style="width: 130px" class="easyui-datebox">
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>
<div id="dlg-buttons-search">
    <a href="#" class="easyui-linkbutton" iconcls="icon-ok" onclick="select()">查询</a>
    <a href="#" class="easyui-linkbutton" iconcls="icon-cancel" onclick="javascript:$('#dlg-search').dialog('close')">
        取消</a>
</div>
