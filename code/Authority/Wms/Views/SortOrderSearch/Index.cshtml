<script type="text/javascript">
    $(function () {
        $('#details').datagrid({
            onClickRow: function () {
                var row = $('#details').datagrid('getSelected');
                if (row) {
                    $('#infoDetails').datagrid({ url: '/SortOrderSearch/InfoDetails/?OrderID=' + row.OrderID });
                } else {
                    $.messager.show({ title: '系统提示', msg: '失败!请检查原因！' });
                }
            }
        })
    });
</script>
<div region="center" split="true" border="false" style="border-bottom-style: solid; border-bottom-width: 1px; border-bottom-color: #99BBE8">    
    <table id="details" class="easyui-datagrid" 
        url="/SortOrderSearch/Details/" border="false" singleSelect="true"
        fit="true" toolbar="#tool"  pagination="true" rownumbers="true" pageSize="50">
        <thead>
            <tr>
                <th field="OrderID" width="100" align="center">订单单号</th>
                <th field="OrderDate" width="100" align="center">订单日期</th>
                <th field="OrderType" width="80" align="center">订单类型</th>
                <th field="CustomerCode" width="120" align="center">客户编号</th>
                <th field="CustomerName" width="220" align="center">客户名称</th>
                <th field="QuantitySum" width="80" align="center">总数量</th>
                <th field="DetailNum" width="80" align="center">明细数</th>
                <th field="DeliverLineName" width="220" align="center">送货路线</th>
            </tr>
        </thead>
    </table>
</div>
<div region="south" split="true" border="false" style="height: 250px; border-top-style: solid; border-top-width: 1px; border-top-color: 99BBE8;">
<table id="infoDetails" class="easyui-datagrid" 
        url="/SortOrderSearch/InfoDetails/" border="false" singleSelect="true"
        fit="true" fitcolumns="true" pagination="true" rownumbers="true" pageSize="50">
        <thead>
            <tr>
                <th field="OrderDetailID" width="160" align="center">序号</th>
                <th field="ProductCode" width="140" align="center">商品代码</th>
                <th field="ProductName" width="180" align="center">商品名称</th>         
                <th field="RealQuantity" width="140" align="center">数量</th>
                <th field="UnitName" width="100" align="center">单位</th>
                <th field="Price" width="120" align="center">单价</th>
                <th field="Amount" width="120" align="center">金额</th>
            </tr>
        </thead>
    </table>
</div>